"use strict";

exports.__esModule = true;
exports.default = void 0;

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireDefault(require("react"));

var _IconChevronLeft = _interopRequireDefault(require("@airbnb/lunar-icons/lib/interface/IconChevronLeft"));

var _IconChevronRight = _interopRequireDefault(require("@airbnb/lunar-icons/lib/interface/IconChevronRight"));

var _withStyles = _interopRequireDefault(require("../../composers/withStyles"));

var _ButtonOrLink = _interopRequireDefault(require("../private/ButtonOrLink"));

var _DirectionalIcon = _interopRequireDefault(require("../DirectionalIcon"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/** A single breadcrumb button. Usually rendered amongst a collection of breadcrumbs. */
class Breadcrumb extends _react.default.Component {
  constructor() {
    super(...arguments);

    _defineProperty(this, "handleClick", () => {
      const {
        onClick
      } = this.props;

      if (onClick) {
        onClick();
      }
    });
  }

  render() {
    const {
      cx,
      disabled,
      hideIcon,
      highlighted,
      id,
      label,
      href,
      onClick,
      selected,
      styles,
      trackingName
    } = this.props;
    const clickable = !disabled && (!!href || !!onClick);
    const aria = selected ? {
      'aria-current': 'page'
    } : {};
    return _react.default.createElement("li", {
      className: cx(styles.li)
    }, _react.default.createElement(_ButtonOrLink.default, _extends({}, aria, {
      className: cx(styles.breadcrumb, clickable && styles.breadcrumb_clickable, highlighted && styles.breadcrumb_highlighted, clickable && highlighted && styles.breadcrumb_highlighted_clickable, selected && styles.breadcrumb_selected, disabled && styles.breadcrumb_disabled),
      afterIcon: hideIcon ? null : _react.default.createElement(_DirectionalIcon.default, {
        direction: "right",
        left: _IconChevronLeft.default,
        right: _IconChevronRight.default,
        size: 24,
        decorative: true
      }),
      disabled: disabled,
      href: href,
      trackingName: trackingName,
      id: id,
      onClick: this.handleClick
    }), label));
  }

}

_defineProperty(Breadcrumb, "propTypes", {
  disabled: _propTypes.default.bool,
  hideIcon: _propTypes.default.bool,
  highlighted: _propTypes.default.bool,
  horizontal: _propTypes.default.bool,
  id: _propTypes.default.string,
  label: _propTypes.default.string.isRequired,
  href: _propTypes.default.string,
  onClick: _propTypes.default.func,
  selected: _propTypes.default.bool,
  trackingName: _propTypes.default.string
});

_defineProperty(Breadcrumb, "defaultProps", {
  disabled: false,
  hideIcon: false,
  highlighted: false,
  href: '',
  selected: false
});

var _default = (0, _withStyles.default)((_ref) => {
  let {
    color,
    font,
    pattern,
    transition,
    unit
  } = _ref;
  return {
    breadcrumb: _extends({}, pattern.resetButton, {}, font.textRegular, {}, transition.box, {
      color: color.core.neutral[5],
      cursor: 'default',
      outline: 'none'
    }),
    breadcrumb_clickable: {
      cursor: 'pointer',
      '@selectors': {
        ':not([disabled]):hover, :not([disabled]):focus': {
          color: color.core.neutral[4]
        }
      }
    },
    breadcrumb_disabled: _extends({}, pattern.disabled),
    breadcrumb_highlighted: {
      color: color.core.primary[3]
    },
    breadcrumb_highlighted_clickable: {
      '@selectors': {
        ':not([disabled]):hover, :not([disabled]):focus': {
          color: color.core.primary[4]
        }
      }
    },
    breadcrumb_selected: {
      fontWeight: font.weights.semibold
    },
    li: {
      marginRight: unit,
      ':last-child': {
        marginRight: 0
      }
    }
  };
})(Breadcrumb);

exports.default = _default;