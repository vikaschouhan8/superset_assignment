"use strict";exports.__esModule=!0,exports.getRenderer=exports.heightType=void 0;var _react=_interopRequireDefault(require("react")),_constants=require("@airbnb/lunar/lib/components/DataTable/constants");function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}/* eslint-disable jsx-a11y/no-static-element-interactions */ /* eslint-disable jsx-a11y/click-events-have-key-events */ /* eslint-disable no-magic-numbers */var NEGATIVE_COLOR="#FFA8A8",POSITIVE_COLOR="#ced4da",SELECTION_COLOR="#EBEBEB",heightType="micro";exports.heightType=heightType;var numberStyle={marginLeft:"auto",marginRight:"4px",zIndex:10},getRenderer=function(a){var b=a.column,c=a.alignPositiveNegative,d=a.colorPositiveNegative,e=a.enableFilter,f=a.isSelected,g=a.handleCellSelected;return function(a){var h,i=a.keyName,j=a.row.rowData.data[i],k="metric"===b.type,l={backgroundColor:e&&f({key:i,value:j})?SELECTION_COLOR:void 0,cursor:k?"default":"pointer",margin:"0px -16px"},m={alignItems:"center",display:"flex",height:_constants.HEIGHT_TO_PX[heightType],margin:"0px 16px",position:"relative",textAlign:k?"right":"left"},n=function(a){var b=a.children;return _react.default.createElement("div",{style:l},_react.default.createElement("div",{style:m},b))};if(k){var o=0,p=0;if(c)p=Math.abs(Math.round(100*(j/Math.max(b.maxValue,Math.abs(b.minValue)))));else{var q=Math.abs(Math.max(b.maxValue,0)),r=Math.abs(Math.min(b.minValue,0)),s=q+r;o=Math.round(100*(Math.min(r+j,r)/s)),p=Math.round(100*(Math.abs(j)/s))}var t=d&&0>j?NEGATIVE_COLOR:POSITIVE_COLOR;h=function(a){var b=a.children,c={background:t,borderRadius:3,height:_constants.HEIGHT_TO_PX[heightType]/2+4,left:o+"%",position:"absolute",width:p+"%"};return _react.default.createElement(n,null,_react.default.createElement("div",{style:c}),_react.default.createElement("div",{style:numberStyle},b))}}else h=function(a){var b=a.children;return _react.default.createElement(n,null,b)};return _react.default.createElement("div",{onClick:k?null:g({key:i,value:j})},_react.default.createElement(h,null,b.format?b.format(j):j))}};exports.getRenderer=getRenderer;